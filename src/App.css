/* ==============================================
   MR. FOX ENGLISH - MAIN STYLESHEET - UPDATED
   Clean, organised, and modular CSS structure
   Includes all exercise styles including Read and Complete
   ============================================== */

/* Import all component stylesheets in correct order */
@import './styles/base.css';
@import './styles/buttons.css';
@import './styles/layout.css';
@import './styles/splash.css';
@import './styles/landing.css';
@import './styles/quiz.css';
@import './styles/results.css';
@import './styles/exercises.css';
@import './styles/real-fake-words.css';
@import './styles/listen-and-type.css';
@import './styles/speaking-exercise.css';
@import './styles/writing-exercise.css';
@import './styles/read-complete-exercise.css';        /* NEW: Read and Complete exercise styles */
@import './styles/progress.css';
@import './styles/responsive.css';

/* ==============================================
   QUIZ SPECIFIC OVERRIDES AND FIXES
   ============================================== */

/* Ensure quiz container has proper structure */
.quiz-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  background: white;
  border-radius: 15px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

/* Force proper display for letter input elements */
.letter-input-container {
  display: inline-flex !important;
  gap: 4px !important;
  align-items: center !important;
  justify-content: center !important;
}

.letter-input-box {
  display: inline-block !important;
  width: 40px !important;
  height: 40px !important;
  text-align: center !important;
  vertical-align: middle !important;
}

/* Ensure question text flows properly with letter inputs */
.question-text {
  display: flex !important;
  flex-wrap: wrap !important;
  justify-content: center !important;
  align-items: center !important;
  text-align: center !important;
}

.letter-input-wrapper {
  display: inline-flex !important;
  align-items: center !important;
  margin: 0 8px !important;
}

/* ==============================================
   EXERCISE VISIBILITY FIXES
   ============================================== */

/* Force visibility for all exercise items */
.exercise-item {
  display: flex !important;
  visibility: visible !important;
}

/* Specific fix for speaking exercises */
.exercise-item[data-category="SPEAKING"] {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Temporary debugging style for speaking exercise */
.exercise-item.speaking-debug {
  background: #ffe6e6 !important;
  border: 3px solid #ff0000 !important;
  outline: 2px solid #0000ff !important;
}

/* ==============================================
   READ AND COMPLETE EXERCISE OVERRIDES
   ============================================== */

/* Ensure Read and Complete exercise displays properly in landing page */
.exercise-item[data-type="read-and-complete"] {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ==============================================
   GLOBAL UTILITY CLASSES
   ============================================== */

/* Utility classes for common patterns */
.flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

.text-center {
  text-align: center;
}

.mb-20 {
  margin-bottom: 20px;
}

.mt-20 {
  margin-top: 20px;
}

.p-20 {
  padding: 20px;
}

/* Accessibility improvements */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus styles for better accessibility */
.exercise-item:focus,
.btn:focus,
.category-tab:focus {
  outline: 2px solid #4c51bf;
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .exercise-item {
    border: 2px solid #000;
  }
  
  .exercise-icon.active {
    background: #000;
    color: #fff;
  }
  
  .category-tab.active {
    background: #000;
    color: #fff;
    border-color: #000;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ==============================================
   PRINT STYLES
   ============================================== */

@media print {
  .desktop-sidebar,
  .mobile-header,
  .mobile-menu-overlay,
  .btn,
  .logo-container {
    display: none !important;
  }
  
  .main-content-area {
    margin-left: 0 !important;
    width: 100% !important;
  }
  
  .read-complete-exercise .paragraph-container {
    border: 1px solid #000;
    break-inside: avoid;
  }
}

/* ==============================================
   LOADING AND ANIMATION STATES
   ============================================== */

/* Loading state for exercises */
.exercise-loading {
  opacity: 0.5;
  pointer-events: none;
  position: relative;
}

.exercise-loading::after {
  content: "Loading...";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.9);
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  color: #4c51bf;
}

/* Smooth transitions for all interactive elements */
.exercise-item,
.btn,
.category-tab,
.word-input {
  transition: all 0.3s ease;
}

/* Enhanced hover states */
.exercise-item:hover:not(.disabled) {
  transform: translateY(-5px);
  box-shadow: 0 12px 30px rgba(76, 81, 191, 0.2);
}

/* Success state for completed exercises */
.exercise-item.completed {
  background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
  border-color: #28a745;
}

.exercise-item.completed .exercise-icon {
  background: linear-gradient(135deg, #28a745 0%, #34ce57 100%);
}
